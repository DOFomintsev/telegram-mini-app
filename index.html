<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Premium Shop</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root {
  --bg: var(--tg-theme-bg-color, #f2f2f7);
  --text: var(--tg-theme-text-color, #000);
  --secondary: var(--tg-theme-hint-color, #8e8e93);
  --card: var(--tg-theme-secondary-bg-color, #ffffff);
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
}

.container {
  padding: 24px 20px 40px;
  animation: fade 0.25s ease;
}

h1 {
  font-size: 28px;
  font-weight: 600;
  margin-bottom: 28px;
  letter-spacing: -0.5px;
}

.card {
  background: var(--card);
  padding: 20px;
  border-radius: 22px;
  margin-bottom: 16px;
  text-decoration: none;
  color: var(--text);
  font-size: 17px;
  font-weight: 500;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.05);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.card:active {
  transform: scale(0.97);
  box-shadow: 0 6px 16px rgba(0,0,0,0.08);
}

.icon {
  width: 22px;
  height: 22px;
  margin-right: 12px;
  stroke: var(--text);
}

.row {
  display: flex;
  align-items: center;
}

.arrow {
  width: 18px;
  height: 18px;
  stroke: var(--secondary);
}

.back {
  margin-bottom: 20px;
  font-size: 15px;
  color: var(--secondary);
  cursor: pointer;
}

@keyframes fade {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>
<div class="container" id="app"></div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const icons = {
  phone: `<svg class="icon" fill="none" stroke-width="1.6" viewBox="0 0 24 24">
      <rect x="7" y="2" width="10" height="20" rx="2"></rect>
      <line x1="11" y1="18" x2="13" y2="18"></line>
    </svg>`,
  laptop: `<svg class="icon" fill="none" stroke-width="1.6" viewBox="0 0 24 24">
      <rect x="3" y="4" width="18" height="12" rx="2"></rect>
      <line x1="2" y1="20" x2="22" y2="20"></line>
    </svg>`,
  arrow: `<svg class="arrow" fill="none" stroke-width="2" viewBox="0 0 24 24">
      <polyline points="9 6 15 12 9 18"></polyline>
    </svg>`,
  external: `<svg class="arrow" fill="none" stroke-width="2" viewBox="0 0 24 24">
      <path d="M14 3h7v7"></path>
      <path d="M10 14L21 3"></path>
      <path d="M21 14v7h-7"></path>
      <path d="M3 10V3h7"></path>
    </svg>`
};

const data = {
  "Смартфоны": {
    icon: icons.phone,
    items: [
      { price: "10 000 ₽", link: "https://ссылка1" },
      { price: "15 000 ₽", link: "https://ссылка2" }
    ]
  },
  "Ноутбуки": {
    icon: icons.laptop,
    items: [
      { price: "10 000 ₽", link: "https://ссылка1" },
      { price: "15 000 ₽", link: "https://ссылка2" }
    ]
  }
};

const app = document.getElementById("app");

function showCategories() {
  app.innerHTML = "<h1>Категории</h1>";
  
  Object.keys(data).forEach(category => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <div class="row">
        ${data[category].icon}
        ${category}
      </div>
      ${icons.arrow}
    `;
    div.onclick = () => showPrices(category);
    app.appendChild(div);
  });
}

function showPrices(category) {
  app.innerHTML = `
    <div class="back" onclick="showCategories()">← Назад</div>
    <h1>${category}</h1>
  `;

  data[category].items.forEach(item => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <span>${item.price}</span>
      ${icons.external}
    `;
    div.onclick = () => tg.openLink(item.link);
    app.appendChild(div);
  });
}

showCategories();
</script>
</body>
</html>
